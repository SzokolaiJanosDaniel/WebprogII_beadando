//! moment.js locale configuration
//! locale : Northern Kurdish [ku-kmr]
//! authors : Mazlum zdogan : https://github.com/mergehez

// All rules except for month names are according to
// the spelling rules which are defined in the book 'Rbera Rastnivsn' from Komxebata Kurmancy.
// Komxebata Kurmancy is a work group that studied different uses in Kurdish language (Kurmanji/Northern Kurdish),
// chose one of alternatives as standard and publish them via their book.
// There are 18 Kurdish linguists in the group.
// The group was formed by Mesopotamia Foundation

import moment from '../moment';

function processRelativeTime(num, withoutSuffix, key, isFuture) {
    var format = {
        s: ['end sanye', 'end sanyeyan'],
        ss: [num + ' sanye', num + ' sanyeyan'],
        m: ['deqqeyek', 'deqqeyek'],
        mm: [num + ' deqqe', num + ' deqqeyan'],
        h: ['saetek', 'saetek'],
        hh: [num + ' saet', num + ' saetan'],
        d: ['rojek', 'rojek'],
        dd: [num + ' roj', num + ' rojan'],
        w: ['hefteyek', 'hefteyek'],
        ww: [num + ' hefte', num + ' hefteyan'],
        M: ['mehek', 'mehek'],
        MM: [num + ' meh', num + ' mehan'],
        y: ['salek', 'salek'],
        yy: [num + ' sal', num + ' salan'],
    };
    return withoutSuffix ? format[key][0] : format[key][1];
}
// function obliqueNumSuffix(num) {
//     if(num.includes(':'))
//         num = parseInt(num.split(':')[0]);
//     else
//         num = parseInt(num);
//     return num == 0 || num % 10 == 1 ? ''
//                         : (num > 10 && num % 10 == 0 ? '' : 'an');
// }
function ezafeNumSuffix(num) {
    num = '' + num;
    var l = num.substring(num.length - 1),
        ll = num.length > 1 ? num.substring(num.length - 2) : '';
    if (
        !(ll == 12 || ll == 13) &&
        (l == '2' || l == '3' || ll == '50' || l == '70' || l == '80')
    )
        return 'y';
    return '';
}

export default moment.defineLocale('ku-kmr', {
    // According to the spelling rules defined by the work group of Weqfa Mezopotamyay (Mesopotamia Foundation)
    // this should be: 'Kanna Pan_Sibat_Adar_Nsan_Gulan_Hezran_Trmeh_Tebax_lon_irya Pn_irya Pan_Kanna Pn'
    // But the names below are more well known and handy
    months: 'Rbendan_Sibat_Adar_Nsan_Gulan_Hezran_Trmeh_Tebax_lon_Cotmeh_Mijdar_Berfanbar'.split(
        '_'
    ),
    monthsShort: 'Rb_Sib_Ada_Ns_Gul_Hez_Tr_Teb_lo_Cot_Mij_Ber'.split('_'),
    monthsParseExact: true,
    weekdays: 'Yekem_Duem_Sem_arem_Pncem_n_em'.split('_'),
    weekdaysShort: 'Yek_Du_S_ar_Pn_n_em'.split('_'),
    weekdaysMin: 'Ye_Du_S_a_P_n_e'.split('_'),
    meridiem: function (hours, minutes, isLower) {
        if (hours < 12) {
            return isLower ? 'bn' : 'BN';
        } else {
            return isLower ? 'pn' : 'PN';
        }
    },
    meridiemParse: /bn|BN|pn|PN/,
    longDateFormat: {
        LT: 'HH:mm',
        LTS: 'HH:mm:ss',
        L: 'DD.MM.YYYY',
        LL: 'Do MMMM[a] YYYY[an]',
        LLL: 'Do MMMM[a] YYYY[an] HH:mm',
        LLLL: 'dddd, Do MMMM[a] YYYY[an] HH:mm',
        ll: 'Do MMM[.] YYYY[an]',
        lll: 'Do MMM[.] YYYY[an] HH:mm',
        llll: 'ddd[.], Do MMM[.] YYYY[an] HH:mm',
    },
    calendar: {
        sameDay: '[ro di saet] LT [de]',
        nextDay: '[Sib di saet] LT [de]',
        nextWeek: 'dddd [di saet] LT [de]',
        lastDay: '[Duh di saet] LT [de]',
        lastWeek: 'dddd[a bor di saet] LT [de]',
        sameElse: 'L',
    },
    relativeTime: {
        future: 'di %s de',
        past: 'ber %s',
        s: processRelativeTime,
        ss: processRelativeTime,
        m: processRelativeTime,
        mm: processRelativeTime,
        h: processRelativeTime,
        hh: processRelativeTime,
        d: processRelativeTime,
        dd: processRelativeTime,
        w: processRelativeTime,
        ww: processRelativeTime,
        M: processRelativeTime,
        MM: processRelativeTime,
        y: processRelativeTime,
        yy: processRelativeTime,
    },
    dayOfMonthOrdinalParse: /\d{1,2}(?:y||\.)/,
    ordinal: function (num, period) {
        var p = period.toLowerCase();
        if (p.includes('w') || p.includes('m')) return num + '.';

        return num + ezafeNumSuffix(num);
    },
    week: {
        dow: 1, // Monday is the first day of the week.
        doy: 4, // The week that contains Jan 4th is the first week of the year.
    },
});
